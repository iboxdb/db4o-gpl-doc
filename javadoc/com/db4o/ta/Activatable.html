<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.3) on Tue Aug 27 03:06:11 EDT 2019 -->
<title>Activatable</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2019-08-27">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Activatable";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Activatable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.db4o.ta</a></div>
<h2 title="Interface Activatable" class="title">Interface Activatable</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="../collections/ActivatableCollection.html" title="interface in com.db4o.collections">ActivatableCollection</a>&lt;T&gt;</code>, <code><a href="../collections/ActivatableList.html" title="interface in com.db4o.collections">ActivatableList</a>&lt;T&gt;</code>, <code><a href="../collections/ActivatableMap.html" title="interface in com.db4o.collections">ActivatableMap</a>&lt;K,&#8203;V&gt;</code>, <code><a href="../collections/ActivatableSet.html" title="interface in com.db4o.collections">ActivatableSet</a>&lt;E&gt;</code></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../collections/ActivatableArrayList.html" title="class in com.db4o.collections">ActivatableArrayList</a></code>, <code><a href="../internal/activation/ActivatableBase.html" title="class in com.db4o.internal.activation">ActivatableBase</a></code>, <code><a href="../collections/ActivatableHashMap.html" title="class in com.db4o.collections">ActivatableHashMap</a></code>, <code><a href="../collections/ActivatableHashSet.html" title="class in com.db4o.collections">ActivatableHashSet</a></code>, <code><a href="../collections/ActivatableHashtable.html" title="class in com.db4o.collections">ActivatableHashtable</a></code>, <code><a href="../collections/ActivatableLinkedList.html" title="class in com.db4o.collections">ActivatableLinkedList</a></code>, <code><a href="../collections/ActivatableStack.html" title="class in com.db4o.collections">ActivatableStack</a></code>, <code><a href="../collections/ActivatableTreeSet.html" title="class in com.db4o.collections">ActivatableTreeSet</a></code>, <code><a href="../collections/ArrayList4.html" title="class in com.db4o.collections">ArrayList4</a></code>, <code><a href="../collections/ArrayMap4.html" title="class in com.db4o.collections">ArrayMap4</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">Activatable</span></pre>
<div class="block">The Activatable interface must be implemented by classes in order to support transparent
 activation/persistence.<br>
 <br>
 
 The Activatable interface may be added to persistent classes by hand or by
 using the db4o enhancer. For further information on the enhancer see the
 chapter "Enhancement" in the db4o reference documentation.<br>
 <br>
 
 The basic idea for Transparent Activation is:<br>
 Objects have an activation depth of 0, so they are not activated
 at all. Whenever a method is called on such an object, the first thing to do
 before actually executing the method body is to activate the object to
 populating its direct members.<br>
 <br>
 
 To illustrate this approach, we will use the following simple class.<br>
 <pre class="prettyprint"><code>
 public class Item {
      private Item next;
   
      public Item(Item next) {
          this.next = next;
      }
   
      public Item next() {
          return next;
      }
      public void setNext(Item itemToBeSet) {
          this.next = itemToBeSet;
      }
      // ...
 }</code></pre>
 
 The basic sequence of actions to get the above scheme to work is the
 following:<br>
 <br>
 
 Whenever an object is instantiated from db4o, the database registers an
 activator for this object. To enable this, the object has to implement the
 Activatable interface and provide the according bind(Activator) method. The
 default implementation of the bind method will simply store the given
 activator reference for later use.<br>
 <pre class="prettyprint"><code>
 public class Item implements Activatable {
     private Item next;
     private transient Activator activator;
 
     public void bind(Activator activator) {
         if (this.activator == activator) {
              return;
         }
         if (activator != null && null != this.activator) {
              throw new IllegalStateException("Object can only be bound to one activator");
         }
         this.activator = activator;
     }
     public void activate(ActivationPurpose activationPurpose) {
         if(null!=activator){
              activator.activate(activationPurpose);
         }
     }
     // ...
 }</code></pre>
 
 The first action in every method body of an activatable object should be a
 call to the corresponding Activator's activate() method with the given purpose.
 If the method is reading the purpose should be <a href="../activation/ActivationPurpose.html#READ"><code>ActivationPurpose.READ</code></a>,
 for writing <a href="../activation/ActivationPurpose.html#WRITE"><code>ActivationPurpose.WRITE</code></a>. <br>
 <pre class="prettyprint"><code>
 public class Item implements Activatable {
     private Item next;
     private transient Activator activator;

     public void bind(Activator activator) {
         if (this.activator == activator) {
              return;
         }
         if (activator != null && null != this.activator) {
              throw new IllegalStateException("Object can only be bound to one activator");
         }
         this.activator = activator;
     }
     public void activate(ActivationPurpose activationPurpose) {
         if(null!=activator){
              activator.activate(activationPurpose);
         }
     }
     public Item next() {
         activate(ActivationPurpose.READ);
         return next;
     }
     public void setNext(Item itemToBeSet) {
         activate(ActivationPurpose.Write);
         this.next = itemToBeSet;
     }
     // ...
 }</code></pre>

 You always need to call activate() before any data access in the object. Otherwise transparent activation / persistence will not work.
 Since this process is error prone we recommend to use the enhancer tools shipped with db4o.

 The activate() method will check whether the object is already activated.
 If this is not the case, it will request the container to activate the object
 to level 1 and set the activated flag accordingly.<br>
 <br>

 To instruct db4o to actually use these hooks (i.e. to register the database
 when instantiating an object), <a href="TransparentActivationSupport.html" title="class in com.db4o.ta"><code>TransparentActivationSupport</code></a> or <a href="TransparentPersistenceSupport.html" title="class in com.db4o.ta"><code>TransparentPersistenceSupport</code></a>  has to be
 registered with the db4o configuration.<br>
 <br>
 <pre class="prettyprint"><code>
 EmbeddedConfiguration config = ... // your configuration
 configuration.common().add(new TransparentActivationSupport());
 </code></pre>
 
 If you implement this interface manually and intend to pass this class through
 the db4o bytecode instrumentation process, make sure you also implement the
 <a href="ActivatableInstrumented.html" title="interface in com.db4o.ta"><code>ActivatableInstrumented</code></a> marker interface.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#activate(com.db4o.activation.ActivationPurpose)">activate</a></span>&#8203;(<a href="../activation/ActivationPurpose.html" title="class in com.db4o.activation">ActivationPurpose</a>&nbsp;purpose)</code></th>
<td class="colLast">
<div class="block">Should be called by every reading field access of an object.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bind(com.db4o.activation.Activator)">bind</a></span>&#8203;(<a href="../activation/Activator.html" title="interface in com.db4o.activation">Activator</a>&nbsp;activator)</code></th>
<td class="colLast">
<div class="block">Called by db4o after the object instantiation.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="bind(com.db4o.activation.Activator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bind</h4>
<pre class="methodSignature">void&nbsp;bind&#8203;(<a href="../activation/Activator.html" title="interface in com.db4o.activation">Activator</a>&nbsp;activator)</pre>
<div class="block">Called by db4o after the object instantiation.
 This method is called to bind the object to the current activator<br/>
 <br/>
 The recommended implementation of this method is to store the passed
 <a href="../activation/Activator.html" title="interface in com.db4o.activation"><code>Activator</code></a> in a transient field of the object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>activator</code> - the Activator instance to bind</dd>
</dl>
</li>
</ul>
<a id="activate(com.db4o.activation.ActivationPurpose)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>activate</h4>
<pre class="methodSignature">void&nbsp;activate&#8203;(<a href="../activation/ActivationPurpose.html" title="class in com.db4o.activation">ActivationPurpose</a>&nbsp;purpose)</pre>
<div class="block">Should be called by every reading field access of an object. <br/>
 <br/>
 The recommended implementation of this method is to call
 <a href="../activation/Activator.html#activate(com.db4o.activation.ActivationPurpose)"><code>Activator.activate(ActivationPurpose)</code></a> on the <a href="../activation/Activator.html" title="interface in com.db4o.activation"><code>Activator</code></a>
 that was previously passed to <a href="#bind(com.db4o.activation.Activator)"><code>bind(Activator)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>purpose</code> - Whereever this object is accessed to read or write. See <a href="../activation/ActivationPurpose.html" title="class in com.db4o.activation"><code>ActivationPurpose</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Activatable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
