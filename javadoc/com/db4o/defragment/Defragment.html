<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.3) on Tue Aug 27 03:06:11 EDT 2019 -->
<title>Defragment SourceCode GPL - https://github.com/iboxdb/db4o-gpl </title>
<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
<link rel="icon" href="/images/favicon.ico" type="image/x-icon">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2019-08-27">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Defragment";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Defragment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.db4o.defragment</a></div>
<h2 title="Class Defragment" class="title">Class Defragment</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.db4o.defragment.Defragment</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">Defragment</span>
extends java.lang.Object</pre>
<div class="block">defragments database files.
 
 <br><br>db4o structures storage inside database files as free and occupied slots, very
 much like a file system - and just like a file system it can be fragmented.<br><br>
 
 The simplest way to defragment a database file:<br><br>
 
 <code>Defragment.defrag("sample.db4o");</code><br><br>
 
 This will move the file to "sample.db4o.backup", then create a defragmented
 version of this file in the original position, using a temporary file
 "sample.db4o.mapping". If the backup file already exists, this will throw an
 exception and no action will be taken.<br><br>
 
 For more detailed configuration of the defragmentation process, provide a
 DefragmentConfig instance:<br><br>
 
 <code>DefragmentConfig config=new DefragmentConfig("sample.db4o","sample.bap",new BTreeIDMapping("sample.map"));<br>
        config.forceBackupDelete(true);<br>
        config.storedClassFilter(new AvailableClassFilter());<br>
 config.db4oConfig(db4oConfig);<br>
 Defragment.defrag(config);</code><br><br>
 
 This will move the file to "sample.bap", then create a defragmented version
 of this file in the original position, using a temporary file "sample.map" for BTree mapping.
 If the backup file already exists, it will be deleted. The defragmentation
 process will skip all classes that have instances stored within the db4o file,
 but that are not available on the class path (through the current
 classloader). Custom db4o configuration options are read from the
 <a href="../config/EmbeddedConfiguration.html" title="interface in com.db4o.config"><code>Configuration</code></a> passed as db4oConfig.
 
 <strong>Note:</strong> For some specific, non-default configuration settings like
 UUID generation, etc., you <strong>must</strong> pass an appropriate db4o configuration,
 just like you'd use it within your application for normal database operation.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">Defragment</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defrag(com.db4o.defragment.DefragmentConfig)">defrag</a></span>&#8203;(<a href="DefragmentConfig.html" title="class in com.db4o.defragment">DefragmentConfig</a>&nbsp;config)</code></th>
<td class="colLast">
<div class="block">Renames the file at the configured original path to the configured backup
 path and then builds a defragmented version of the file in the original
 place.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defrag(com.db4o.defragment.DefragmentConfig,com.db4o.defragment.DefragmentListener)">defrag</a></span>&#8203;(<a href="DefragmentConfig.html" title="class in com.db4o.defragment">DefragmentConfig</a>&nbsp;config,
      <a href="DefragmentListener.html" title="interface in com.db4o.defragment">DefragmentListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Renames the file at the configured original path to the configured backup
 path and then builds a defragmented version of the file in the original
 place.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defrag(java.lang.String)">defrag</a></span>&#8203;(java.lang.String&nbsp;origPath)</code></th>
<td class="colLast">
<div class="block">Renames the file at the given original path to a backup file and then
 builds a defragmented version of the file in the original place.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defrag(java.lang.String,java.lang.String)">defrag</a></span>&#8203;(java.lang.String&nbsp;origPath,
      java.lang.String&nbsp;backupPath)</code></th>
<td class="colLast">
<div class="block">Renames the file at the given original path to the given backup file and
 then builds a defragmented version of the file in the original place.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Defragment</h4>
<pre>public&nbsp;Defragment()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="defrag(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defrag</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;defrag&#8203;(java.lang.String&nbsp;origPath)
                   throws java.io.IOException</pre>
<div class="block">Renames the file at the given original path to a backup file and then
 builds a defragmented version of the file in the original place.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>origPath</code> - The path to the file to be defragmented.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the original file cannot be moved to the backup location</dd>
</dl>
</li>
</ul>
<a id="defrag(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defrag</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;defrag&#8203;(java.lang.String&nbsp;origPath,
                          java.lang.String&nbsp;backupPath)
                   throws java.io.IOException</pre>
<div class="block">Renames the file at the given original path to the given backup file and
 then builds a defragmented version of the file in the original place.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>origPath</code> - The path to the file to be defragmented.</dd>
<dd><code>backupPath</code> - The path to the backup file to be created.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the original file cannot be moved to the backup location</dd>
</dl>
</li>
</ul>
<a id="defrag(com.db4o.defragment.DefragmentConfig)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defrag</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;defrag&#8203;(<a href="DefragmentConfig.html" title="class in com.db4o.defragment">DefragmentConfig</a>&nbsp;config)
                   throws java.io.IOException</pre>
<div class="block">Renames the file at the configured original path to the configured backup
 path and then builds a defragmented version of the file in the original
 place.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>config</code> - The configuration for this defragmentation run.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the original file cannot be moved to the backup location</dd>
</dl>
</li>
</ul>
<a id="defrag(com.db4o.defragment.DefragmentConfig,com.db4o.defragment.DefragmentListener)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>defrag</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;defrag&#8203;(<a href="DefragmentConfig.html" title="class in com.db4o.defragment">DefragmentConfig</a>&nbsp;config,
                          <a href="DefragmentListener.html" title="interface in com.db4o.defragment">DefragmentListener</a>&nbsp;listener)
                   throws java.io.IOException</pre>
<div class="block">Renames the file at the configured original path to the configured backup
 path and then builds a defragmented version of the file in the original
 place.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>config</code> - The configuration for this defragmentation run.</dd>
<dd><code>listener</code> - A listener for status notifications during the defragmentation
            process.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the original file cannot be moved to the backup location</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Defragment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
